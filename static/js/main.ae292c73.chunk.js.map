{"version":3,"sources":["utils/fetchClient.ts","types/Error.ts","api/posts.ts","components/UserSelector/UserSelector.tsx","api/users.ts","components/ErrorNotification/ErrorNotification.tsx","utils/switchError.ts","components/PostsList/PostsList.tsx","components/Loader/Loader.tsx","components/Content/Content.tsx","api/comments.ts","components/NewCommentForm/NewCommentForm.tsx","components/PostDetails/PostDetails.tsx","components/Sidebar/Sidebar.tsx","App.tsx","index.tsx"],"names":["BASE_URL","wait","delay","Promise","resolve","setTimeout","request","url","a","method","data","options","body","JSON","stringify","headers","fetch","response","json","Error","client","getPostsByUserId","userId","UserSelector","selectedUserId","onSelectUser","onError","useState","users","setUsers","selectedUser","setSelectedUser","isDropdown","setIsDropdown","userListDropdown","useRef","handleOnBlur","event","current","contains","target","useEffect","then","catch","GET_USERS","document","addEventListener","removeEventListener","className","classNames","ref","type","onClick","id","role","length","map","user","href","name","handleSelectUser","ErrorNotification","element","error","posts","handleNotification","GET_POSTS","NO_POSTS","GET_COMMENTS","ADD_COMMENT","DELETE_COMMENT","switchError","PostsList","postId","onPost","post","title","Loader","Content","isLoading","getCommentsByPostId","deleteComment","commentId","NewCommentForm","onAdd","setName","email","setEmail","setBody","setIsLoading","isSubmitted","setIsSubmitted","isValid","setIsValid","handleCreateComment","newComment","onSubmit","preventDefault","handleSubmit","htmlFor","placeholder","value","onChange","PostDetails","comments","setComments","isCommentForm","setIsCommentForm","currentPost","filter","handleAddComment","useCallback","allComments","handleDeleteComment","comment","getCommentList","commentList","Sidebar","App","setPosts","setPostId","setSelectedUserId","setError","handleError","errorType","handleOnPost","getPostList","postList","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ae292c73.chunk.js","sourcesContent":["const BASE_URL = 'https://mate.academy/students-api';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nasync function request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: unknown = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  await wait(300);\n  const response = await fetch(BASE_URL + url, options);\n\n  return response.json();\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: unknown) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: unknown) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","export enum Error {\n  GET_USERS = 'Unable to get users',\n  NO_POSTS = 'No posts yet',\n  GET_POSTS = 'Something went wrong!',\n  GET_COMMENTS = 'Unable to get comments',\n  ADD_COMMENT = 'Unable to add comment',\n  DELETE_COMMENT = 'Unable to delete comment',\n}\n\nexport type ErrorElement = 'MainError' | 'CommentsError';\n","import { client } from '../utils/fetchClient';\nimport { Post } from '../types/Post';\n\nexport const getPostsByUserId = (userId: number) => {\n  return client.get<Post[]>(`/posts?userId=${userId}`);\n};\n\nexport const getPostById = (postId: number) => {\n  return client.get<Post>(`/posts/${postId}`);\n};\n","import React, {\n  useState,\n  useRef,\n  useEffect,\n} from 'react';\nimport classNames from 'classnames';\nimport { getUsers } from '../../api/users';\nimport { User } from '../../types/User';\nimport { Error } from '../../types/Error';\n\ntype Props = {\n  selectedUserId: number | null;\n  onSelectUser: (userId: number) => void;\n  onError: (error: Error | null) => void;\n};\n\nexport const UserSelector: React.FC<Props> = ({\n  selectedUserId,\n  onSelectUser,\n  onError,\n}) => {\n  const [users, setUsers] = useState<User[]>([]);\n  const [selectedUser, setSelectedUser] = useState<string | null>(null);\n  const [isDropdown, setIsDropdown] = useState(false);\n\n  const userListDropdown = useRef<HTMLDivElement>(null);\n\n  const handleOnBlur = (event: MouseEvent) => {\n    if (userListDropdown.current\n      && !userListDropdown.current.contains(event.target as HTMLElement)) {\n      setIsDropdown(false);\n    }\n  };\n\n  const handleSelectUser = (user: User) => {\n    const { name, id } = user;\n\n    setSelectedUser(name);\n    onSelectUser(id);\n    setIsDropdown(false);\n  };\n\n  useEffect(() => {\n    getUsers()\n      .then(setUsers)\n      .catch(() => onError(Error.GET_USERS));\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener('click', handleOnBlur);\n\n    return () => {\n      document.removeEventListener('click', handleOnBlur);\n    };\n  }, [isDropdown]);\n\n  return (\n    <div\n      className=\"block\"\n    >\n      <div\n        data-cy=\"UserSelector\"\n        className={classNames(\n          'dropdown',\n          { 'is-active': isDropdown },\n        )}\n        ref={userListDropdown}\n      >\n        <div className=\"dropdown-trigger\">\n          <button\n            type=\"button\"\n            className=\"button\"\n            aria-haspopup=\"true\"\n            aria-controls=\"dropdown-menu\"\n            onClick={() => setIsDropdown(!isDropdown)}\n          >\n            <span>\n              {!selectedUserId\n                ? 'Choose a user'\n                : `${selectedUser}`}\n            </span>\n\n            <span className=\"icon is-small\">\n              <i\n                className=\"fas fa-angle-down\"\n                aria-hidden=\"true\"\n              />\n            </span>\n          </button>\n        </div>\n\n        <div\n          className=\"dropdown-menu\"\n          id=\"dropdown-menu\"\n          role=\"menu\"\n        >\n          <div\n            className=\"dropdown-content\"\n          >\n            {users.length > 0 && (\n              users.map(user => (\n                <a\n                  href={`#user-${user.id}`}\n                  className={classNames(\n                    'dropdown-item',\n                    { 'is-active': user.id === selectedUserId },\n                  )}\n                  key={user.id}\n                  onClick={() => handleSelectUser(user)}\n                >\n                  {user.name}\n                </a>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { client } from '../utils/fetchClient';\nimport { User } from '../types/User';\n\nexport const getUsers = () => {\n  return client.get<User[]>('/users');\n};\n","import React from 'react';\nimport { switchError } from '../../utils/switchError';\nimport { Error, ErrorElement } from '../../types/Error';\nimport { Post } from '../../types/Post';\n\ntype Props = {\n  error: Error | null;\n  element: ErrorElement;\n  posts?: Post[];\n  selectedUser?: number | null;\n};\n\nexport const ErrorNotification: React.FC<Props> = ({\n  element,\n  error,\n  posts,\n  selectedUser,\n}) => {\n  const handleNotification = (type: Error) => {\n    return switchError(\n      type, error, element, posts, selectedUser,\n    );\n  };\n\n  return (\n    <>\n      {handleNotification(Error.NO_POSTS) && (\n        <div\n          className=\"notification is-warning\"\n          data-cy=\"NoPostsYet\"\n        >\n          {error}\n        </div>\n      )}\n\n      {handleNotification(Error.GET_POSTS) && (\n        <div\n          className=\"notification is-danger\"\n          data-cy=\"PostsLoadingError\"\n        >\n          {error}\n        </div>\n      )}\n\n      {handleNotification(Error.GET_USERS) && (\n        <div\n          className=\"notification is-danger\"\n          data-cy=\"PostsLoadingError\"\n        >\n          {error}\n        </div>\n      )}\n\n      {handleNotification(Error.GET_COMMENTS) && (\n        <div\n          className=\"notification is-danger\"\n          data-cy=\"CommentsError\"\n        >\n          {error}\n        </div>\n      )}\n\n      {handleNotification(Error.ADD_COMMENT) && (\n        <div\n          className=\"notification is-danger\"\n          data-cy=\"CommentsError\"\n        >\n          {error}\n        </div>\n      )}\n\n      {handleNotification(Error.DELETE_COMMENT) && (\n        <div\n          className=\"notification is-danger\"\n          data-cy=\"CommentsError\"\n        >\n          {error}\n        </div>\n      )}\n    </>\n  );\n};\n","import { Error, ErrorElement } from '../types/Error';\nimport { Post } from '../types/Post';\n\nexport const switchError = (\n  type: Error,\n  error: Error | null,\n  element: ErrorElement,\n  posts?: Post[],\n  selectedUser?: number | null,\n) => {\n  switch (type) {\n    case Error.GET_USERS:\n    case Error.GET_POSTS:\n      return element === 'MainError'\n        ? error === type\n        : null;\n\n    case Error.NO_POSTS:\n      return element === 'MainError'\n        ? !posts?.length\n          && selectedUser\n          && error === type\n        : null;\n\n    case Error.GET_COMMENTS:\n    case Error.ADD_COMMENT:\n    case Error.DELETE_COMMENT:\n      return element === 'CommentsError'\n        ? error === type\n        : null;\n\n    default:\n      return null;\n  }\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Post } from '../../types/Post';\n\ntype Props = {\n  posts: Post[];\n  postId: number | null;\n  onPost: (id: number | null) => void;\n};\n\nexport const PostsList: React.FC<Props> = ({\n  posts,\n  postId,\n  onPost,\n}) => {\n  const handleSetOpened = (id: number) => {\n    return (postId !== id)\n      ? onPost(id)\n      : onPost(null);\n  };\n\n  return (\n    <div data-cy=\"PostsList\">\n      <p className=\"title\">\n        Posts:\n      </p>\n\n      <table\n        className=\"\n        table\n        is-fullwidth\n        is-striped\n        is-hoverable\n        is-narrow\"\n      >\n        <thead>\n          <tr className=\"has-background-link-light\">\n            <th>#</th>\n            <th>Title</th>\n            <th> </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {posts.map(post => (\n            <tr\n              data-cy=\"Post\"\n              key={post.id}\n            >\n              <td data-cy=\"PostId\">\n                {post.id}\n              </td>\n\n              <td data-cy=\"PostTitle\">\n                {post.title}\n              </td>\n\n              <td className=\"has-text-right is-vcentered\">\n                <button\n                  type=\"button\"\n                  data-cy=\"PostButton\"\n                  className={classNames(\n                    'button',\n                    'is-link',\n                    { 'is-light': !(postId && post.id === postId) },\n                  )}\n                  onClick={() => handleSetOpened(post.id)}\n                >\n                  {postId && post.id === postId\n                    ? 'Close'\n                    : 'Open'}\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React from 'react';\nimport { UserSelector } from '../UserSelector';\nimport { ErrorNotification } from '../ErrorNotification';\nimport { PostsList } from '../PostsList';\nimport { Loader } from '../Loader';\nimport { Post } from '../../types/Post';\nimport { Error } from '../../types/Error';\n\ntype Props = {\n  posts: Post[];\n  postId: number | null;\n  selectedUserId: number | null;\n  error: Error | null;\n  isLoading: boolean;\n  onPost: (id: number | null) => void;\n  onSelectUser: (userId: number) => void;\n  onError: (error: Error | null) => void;\n};\n\nexport const Content: React.FC<Props> = ({\n  posts,\n  postId,\n  selectedUserId,\n  error,\n  isLoading,\n  onPost,\n  onSelectUser,\n  onError,\n}) => (\n  <div className=\"tile is-parent\">\n    <div\n      className=\"\n        tile\n        is-child\n        box\n        is-success\"\n    >\n\n      <UserSelector\n        selectedUserId={selectedUserId}\n        onSelectUser={onSelectUser}\n        onError={onError}\n      />\n\n      <div className=\"block\" data-cy=\"MainContent\">\n        {!selectedUserId\n          && !error\n          && (\n            <p data-cy=\"NoSelectedUser\">\n              No user selected\n            </p>\n          )}\n\n        {error && (\n          <ErrorNotification\n            error={error}\n            posts={posts}\n            selectedUser={selectedUserId}\n            element=\"MainError\"\n          />\n        )}\n\n        {isLoading\n          && <Loader />}\n\n        {!isLoading\n          && posts.length > 0\n          && !error\n          && (\n            <PostsList\n              posts={posts}\n              postId={postId}\n              onPost={onPost}\n            />\n          )}\n      </div>\n    </div>\n  </div>\n);\n","import { client } from '../utils/fetchClient';\nimport { Comment } from '../types/Comment';\n\nexport const getCommentsByPostId = (postId: number) => {\n  return client.get<Comment[]>(`/comments?postId=${postId}`);\n};\n\nexport const createComment = (data: Omit<Comment, 'id'>) => {\n  return client.post<Comment>('/comments', data);\n};\n\nexport const deleteComment = (commentId: number) => {\n  return client.delete(`/comments/${commentId}`);\n};\n","import React, { useState, FormEvent } from 'react';\nimport classNames from 'classnames';\nimport { createComment } from '../../api/comments';\nimport { Error } from '../../types/Error';\n\ntype Props = {\n  postId: number | null;\n  onAdd: (comment: {}) => void;\n  onError: (error: Error | null) => void;\n};\n\nexport const NewCommentForm: React.FC<Props> = ({\n  postId,\n  onAdd,\n  onError,\n}) => {\n  const [name, setName] = useState<string>('');\n  const [email, setEmail] = useState<string>('');\n  const [body, setBody] = useState<string>('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n\n  const handleCreateComment = async () => {\n    try {\n      setIsLoading(true);\n      onError(null);\n\n      if (!postId) {\n        return;\n      }\n\n      const newComment = await createComment({\n        postId,\n        name,\n        email,\n        body,\n      });\n\n      onAdd(newComment);\n      setName(newComment.name);\n      setEmail(newComment.email);\n    } catch {\n      onError(Error.ADD_COMMENT);\n    } finally {\n      setIsLoading(false);\n      setIsSubmitted(false);\n      setBody('');\n    }\n  };\n\n  const handleFormValidation = () => {\n    setIsSubmitted(true);\n\n    return (!name || !email || !body)\n      ? setIsValid(false)\n      : setIsValid(true);\n  };\n\n  const handleClearForm = () => {\n    setName('');\n    setEmail('');\n    setBody('');\n    onError(null);\n    setIsSubmitted(false);\n  };\n\n  const handleNotification = (length: number) => {\n    return isSubmitted && !length;\n  };\n\n  const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (!isValid) {\n      return;\n    }\n\n    handleCreateComment();\n  };\n\n  return (\n    <form\n      data-cy=\"NewCommentForm\"\n      onSubmit={(event) => handleSubmit(event)}\n    >\n      <div\n        className=\"field\"\n        data-cy=\"NameField\"\n      >\n        <label\n          className=\"label\"\n          htmlFor=\"comment-author-name\"\n        >\n          Author Name\n        </label>\n\n        <div\n          className=\"\n            control\n            has-icons-left\n            has-icons-right\"\n        >\n          <input\n            type=\"text\"\n            name=\"name\"\n            id=\"comment-author-name\"\n            placeholder=\"Name Surname\"\n            className={classNames(\n              'input',\n              { 'is-danger': handleNotification(name.length) },\n            )}\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n\n          <span\n            className=\"\n              icon\n              is-small\n              is-left\"\n          >\n            <i className=\"fas fa-user\" />\n          </span>\n\n          {handleNotification(name.length) && (\n            <span\n              className=\"icon\n                is-small\n                is-right\n                has-text-danger\"\n              data-cy=\"ErrorIcon\"\n            >\n              <i className=\"fas fa-exclamation-triangle\" />\n            </span>\n          )}\n        </div>\n\n        {handleNotification(name.length) && (\n          <p\n            className=\"help is-danger\"\n            data-cy=\"ErrorMessage\"\n          >\n            Name is required\n          </p>\n        )}\n      </div>\n\n      <div\n        className=\"field\"\n        data-cy=\"EmailField\"\n      >\n        <label\n          className=\"label\"\n          htmlFor=\"comment-author-email\"\n        >\n          Author Email\n        </label>\n\n        <div\n          className=\"\n            control\n            has-icons-left\n            has-icons-right\"\n        >\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"comment-author-email\"\n            placeholder=\"email@test.com\"\n            className={classNames(\n              'input',\n              { 'is-danger': handleNotification(email.length) },\n            )}\n            value={email}\n            onChange={(event) => setEmail(event.target.value)}\n          />\n\n          <span\n            className=\"\n              icon\n              is-small\n              is-left\"\n          >\n            <i className=\"fas fa-envelope\" />\n          </span>\n\n          {handleNotification(email.length) && (\n            <span\n              className=\"icon\n                is-small\n                is-right\n                has-text-danger\"\n              data-cy=\"ErrorIcon\"\n            >\n              <i className=\"fas fa-exclamation-triangle\" />\n            </span>\n          )}\n        </div>\n\n        {handleNotification(email.length) && (\n          <p\n            className=\"help is-danger\"\n            data-cy=\"ErrorMessage\"\n          >\n            Email is required\n          </p>\n        )}\n      </div>\n\n      <div\n        className=\"field\"\n        data-cy=\"BodyField\"\n      >\n        <label\n          className=\"label\"\n          htmlFor=\"comment-body\"\n        >\n          Comment Text\n        </label>\n\n        <div className=\"control\">\n          <textarea\n            id=\"comment-body\"\n            name=\"body\"\n            placeholder=\"Type comment here\"\n            className={classNames(\n              'textarea',\n              { 'is-danger': handleNotification(body.length) },\n            )}\n            value={body}\n            onChange={(event) => setBody(event.target.value)}\n          />\n        </div>\n\n        {handleNotification(body.length) && (\n          <p\n            className=\"help is-danger\"\n            data-cy=\"ErrorMessage\"\n          >\n            Enter some text\n          </p>\n        )}\n      </div>\n\n      <div className=\"field is-grouped\">\n        <div className=\"control\">\n          <button\n            type=\"submit\"\n            className={classNames(\n              'button',\n              'is-link',\n              { 'is-loading': isLoading },\n            )}\n            onClick={() => handleFormValidation()}\n          >\n            Add\n          </button>\n        </div>\n\n        <div className=\"control\">\n          {/* eslint-disable-next-line react/button-has-type */}\n          <button\n            type=\"reset\"\n            className=\"\n              button\n              is-link\n              is-light\"\n            aria-label=\"resetButton\"\n            onClick={() => handleClearForm()}\n          >\n            Clear\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n};\n","import React, {\n  useState,\n  useCallback,\n  useEffect,\n} from 'react';\nimport {\n  getCommentsByPostId,\n  deleteComment,\n} from '../../api/comments';\nimport { NewCommentForm } from '../NewCommentForm';\nimport { Loader } from '../Loader';\nimport { ErrorNotification } from '../ErrorNotification';\nimport { Post } from '../../types/Post';\nimport { Comment } from '../../types/Comment';\nimport { Error } from '../../types/Error';\n\ntype Props = {\n  posts: Post[];\n  postId: number | null;\n  error: Error | null;\n  onError: (error: Error | null) => void;\n};\n\nexport const PostDetails: React.FC<Props> = ({\n  posts,\n  postId,\n  error,\n  onError,\n}) => {\n  const [comments, setComments] = useState<Comment[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isCommentForm, setIsCommentForm] = useState(false);\n\n  const currentPost = posts.filter(post => post.id === postId)[0];\n\n  const handleAddComment = useCallback((newComment) => {\n    setComments(allComments => [...allComments, newComment]);\n  }, []);\n\n  const handleDeleteComment = async (commentId: number) => {\n    try {\n      setComments(\n        allComments => allComments.filter(\n          comment => comment.id !== commentId,\n        ),\n      );\n      onError(null);\n\n      if (!commentId) {\n        return;\n      }\n\n      await deleteComment(commentId);\n    } catch {\n      onError(Error.DELETE_COMMENT);\n    }\n  };\n\n  const getCommentList = async (id: number | null) => {\n    try {\n      setIsLoading(true);\n      onError(null);\n      setIsCommentForm(false);\n\n      if (!id) {\n        return;\n      }\n\n      const commentList = await getCommentsByPostId(id);\n\n      setComments(commentList);\n    } catch {\n      onError(Error.GET_COMMENTS);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (postId) {\n      getCommentList(postId);\n    }\n  }, [postId]);\n\n  return (\n    <div className=\"content\" data-cy=\"PostDetails\">\n      <div className=\"content\" data-cy=\"PostDetails\">\n        {posts.length && (\n          <div className=\"block\">\n            <h2 data-cy=\"PostTitle\">\n              {`#${currentPost.id}: ${currentPost.title}`}\n            </h2>\n\n            <p data-cy=\"PostBody\">\n              {currentPost.body}\n            </p>\n          </div>\n        )}\n\n        <div className=\"block\">\n          {isLoading\n            && <Loader />}\n\n          {!isLoading\n            && !comments.length\n            && !error\n            && (\n              <p\n                className=\"title is-4\"\n                data-cy=\"NoCommentsMessage\"\n              >\n                No comments yet\n              </p>\n            )}\n\n          {!isLoading\n            && error\n            && (\n              <ErrorNotification\n                error={error}\n                element=\"CommentsError\"\n              />\n            )}\n\n          {!isLoading\n            && comments.length > 0\n            && !error\n            && (\n              <p className=\"title is-4\">\n                Comments:\n              </p>\n            )}\n\n          {!isLoading\n            && !error\n            && comments.map(comment => (\n              <article\n                key={comment.id}\n                className=\"message is-small\"\n                data-cy=\"Comment\"\n              >\n                <div className=\"message-header\">\n                  <a\n                    href={`mailto:${comment.email}`}\n                    data-cy=\"CommentAuthor\"\n                  >\n                    {comment.name}\n                  </a>\n                  <button\n                    data-cy=\"CommentDelete\"\n                    type=\"button\"\n                    className=\"delete is-small\"\n                    aria-label=\"delete\"\n                    onClick={() => handleDeleteComment(comment.id)}\n                  >\n                    delete button\n                  </button>\n                </div>\n\n                <div\n                  className=\"message-body\"\n                  data-cy=\"CommentBody\"\n                >\n                  {comment.body}\n                </div>\n              </article>\n            ))}\n\n          {!isLoading\n            && !isCommentForm\n            && !error\n            && (\n              <button\n                data-cy=\"WriteCommentButton\"\n                type=\"button\"\n                className=\"button is-link\"\n                aria-label=\"WriteCommentButton\"\n                onClick={() => setIsCommentForm(true)}\n              >\n                Write a comment\n              </button>\n            )}\n        </div>\n\n        {isCommentForm\n          && (\n            <NewCommentForm\n              postId={postId}\n              onAdd={handleAddComment}\n              onError={onError}\n            />\n          )}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { PostDetails } from '../PostDetails';\nimport { Post } from '../../types/Post';\nimport { Error } from '../../types/Error';\n\ntype Props = {\n  posts: Post[];\n  postId: number | null;\n  error: Error | null;\n  onError: (error: Error | null) => void;\n};\n\nexport const Sidebar: React.FC<Props> = ({\n  posts,\n  postId,\n  error,\n  onError,\n}) => (\n  <div\n    data-cy=\"Sidebar\"\n    className={classNames(\n      'tile',\n      'is-parent',\n      'is-8-desktop',\n      'Sidebar',\n      { 'Sidebar--open': postId },\n    )}\n  >\n    <div\n      className=\"\n        tile\n        is-child\n        box\n        is-success\"\n    >\n      {postId && (\n        <PostDetails\n          posts={posts}\n          postId={postId}\n          error={error}\n          onError={onError}\n        />\n      )}\n    </div>\n  </div>\n);\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n} from 'react';\nimport 'bulma/bulma.sass';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport './App.scss';\nimport { getPostsByUserId } from './api/posts';\nimport { Content } from './components/Content';\nimport { Sidebar } from './components/Sidebar';\nimport { Post } from './types/Post';\nimport { Error } from './types/Error';\n\nexport const App: React.FC = () => {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [postId, setPostId] = useState<number | null>(null);\n  const [selectedUserId, setSelectedUserId] = useState<number | null>(null);\n  const [error, setError] = useState<Error | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleError = useCallback((errorType: Error | null) => {\n    setError(errorType);\n  }, []);\n\n  const handleOnPost = useCallback((id: number | null) => {\n    setPostId(id);\n  }, []);\n\n  const handleSelectUser = useCallback((userId: number) => {\n    setSelectedUserId(userId);\n    setPostId(null);\n  }, []);\n\n  const getPostList = async (userId: number) => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      if (!userId) {\n        return;\n      }\n\n      const postList = await getPostsByUserId(userId);\n\n      if (!postList.length) {\n        setError(Error.NO_POSTS);\n      }\n\n      setPosts(postList);\n    } catch {\n      setError(Error.GET_POSTS);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedUserId) {\n      getPostList(selectedUserId);\n    }\n  }, [selectedUserId]);\n\n  return (\n    <main className=\"section\">\n      <div className=\"container\">\n        <div className=\"tile is-ancestor\">\n          <Content\n            posts={posts}\n            postId={postId}\n            selectedUserId={selectedUserId}\n            error={error}\n            isLoading={isLoading}\n            onPost={handleOnPost}\n            onSelectUser={handleSelectUser}\n            onError={handleError}\n          />\n\n          <Sidebar\n            posts={posts}\n            postId={postId}\n            error={error}\n            onError={handleError}\n          />\n        </div>\n      </div>\n    </main>\n  );\n};\n","import ReactDOM from 'react-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}